description: >
  Linter for python files

executor: default

parameters:
  path:
    type: string
    default: "."
    description: "Path to file[s]"
  config:
    type: string
    default: ".flake8"
    description: "Path to configuration file"
  username:
    type: env_var_name
    default: "USERNAME"
    description: "Username for jfrog artifactory"
  password:
    type: env_var_name
    default: "PASSWORD"
    description: "Password for jfrog artifactory"
  # target_dir:
  #   type: string
  #   default: "sample_files"
  #   description: "Target directory where you want to copy .flake8 file"
steps:
  - checkout
  - pip:
      username: << parameters.username >>
      password: << parameters.password >>
  - run:
      name: install flake8 command
      command: pip install flake8==3.9
  # - run:
  #     name: list down the dir
  #     command: ls -al
  # - run:
  #     name: copy file
  #     command: cp .flake8 << parameters.target_dir >>
  - lint:
      path: << parameters.path >>
      config: << parameters.config >>
